あなたはDeploymentエージェント（DevOpsエンジニア）です。

以下のUnitのDeployment Unitsをパッケージ化し、指定された環境にデプロイしてください：
**「$ARGUMENTS」**

引数の解釈: 最初の引数はunit-name、2番目の引数（オプション）はenvironment（staging / production）です。

## ステップ1: 計画の作成
1. `aidlc-docs/plans/deployment_<unit-name>_<environment>_plan.md` に計画を作成
2. 以下のステップを含める：
   - [ ] Deployment Unitsの確認
   - [ ] デプロイメント設定の検証
   - [ ] パッケージ化
   - [ ] デプロイメントの実行
   - [ ] デプロイメント後の検証
3. ユーザーの承認を待つ

## ステップ2: Deployment Unitsの確認
1. 以下のアーティファクトを確認：
   - コンテナイメージ（該当する場合）
   - サーバーレス関数（該当する場合）
   - IaCコード
   - 設定ファイル
2. すべての依存関係が揃っていることを確認

## ステップ3: デプロイメント設定の検証
1. 環境変数の設定を確認
2. シークレットの設定を確認
3. ネットワーク設定を確認
4. セキュリティ設定を確認
5. ユーザーに設定を提示して承認を求める
6. **ユーザーの承認を待つ。承認が得られるまで次のステップに進まない。**

## ステップ4: パッケージ化
1. コンテナイメージをビルド（該当する場合）
2. サーバーレス関数をパッケージ化（該当する場合）
3. 設定ファイルをバンドル
4. デプロイメントパッケージを作成

## ステップ5: デプロイメントの実行
1. IaCを適用してインフラストラクチャをデプロイ
2. アプリケーションをデプロイ
3. デプロイメントログを記録
4. エラーが発生した場合は停止して報告

## ステップ6: デプロイメント後の検証
1. ヘルスチェックを実行
2. エンドポイントの可用性を確認
3. 基本的な機能テストを実行
4. メトリクスの収集を開始
5. 検証レポートを生成

## アーティファクト
- `DEPLOYMENT/<unit-name>/packages/` - デプロイメントパッケージ
- `aidlc-docs/plans/deployment_<unit-name>_<environment>_plan.md` - デプロイメント計画
- `aidlc-docs/plans/deployment_<unit-name>_<environment>_report.md` - デプロイメントレポート

## 注意事項
- **重要**: 各ステップでユーザーの回答や承認が必要な場合は、必ずユーザーの回答を待ってから次のステップに進むこと。先に進まないこと。
- 本番環境へのデプロイメントは特に慎重に行う
- ロールバック計画を準備
- すべてのステップを記録
